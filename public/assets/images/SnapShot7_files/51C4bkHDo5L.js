(function(g){var p=window.AmazonUIPageJS||window.P,A=p._namespace||p.attributeErrors,a=A?A("AskAuiAssets"):p;a.guardFatal?a.guardFatal(g)(a,window):a.execute(function(){g(a,window)})})(function(g,p,A){g.when("jQuery","ready").execute(function(a){a("body").delegate(".askInlineWidget .cdShowLess, .askInlineWidget .cdReadMore","click touchstart",function(c){c.preventDefault();a(c.target).parents(".cdJSEnabledText").toggleClass("askShowMore")})});g.when("jQuery","load").execute(function(a){var c=a(".askSubHeader");
0<c.length&&!p.pageYOffset&&a("html, body").animate({scrollTop:c.offset().top},0)});g.when("jQuery","ready").execute(function(a){function c(){return a(p).scrollTop()+5>=a(document).height()-a(p).height()}function e(){c()&&b()}function d(){a("body").hasClass("allAnswersScrolling")?a(document).scroll(e):(a(".loadMoreAnswersMobile").show(),a(".loadMoreAnswersMobile").bind("touchstart click",b))}function b(){var k=a(".answersLoadingSpinner"),l=a(".loadMoreAnswersMobile"),n=a.trim(a(".askPage input[name=askQuestion]").val()),
m=a.trim(a(".askPage input[name=askSort]").val()),g=a(".askPage input[name=askLanguage]").val(),q=a(".askPage input[name=askAsin]").val(),n="/ask/answers/inline/"+n+"/"+h+"?pageSize=6&sort="+m+"&language="+g;q!==A&&(n+="&asin="+q);k.show();l.hide();a(".askMobileFailedToFetchMoreAnswers").hide();a(document).unbind("scroll",e);l.unbind("touchstart click",b);a.ajax({url:n,data:{},dataType:"html",cache:!1,timeout:2E3,success:function(e){k.hide();a(".askPage .answerBox").append(e);f&&(c()?b():f=!1);"true"===
a.trim(a("input[name=moreAnswersAfterPage"+h+"]").val())?d():a(".loadMoreAnswersMobile").hide();a(document).trigger("ajax:success");h+=1},error:function(){k.hide();a(".askMobileFailedToFetchMoreAnswers").show();d()}})}var f=!0,h=3;a("body").hasClass("allAnswersScrolling")&&(c()?b():f=!1,a(document).scroll(e));a(".loadMoreAnswersMobile").bind("touchstart click",b)});g.when("jQuery","ready").execute(function(a){var c=!0;a("body").delegate(".askQuestionForm","submit",function(d){d=a(d.currentTarget);
var b=d.find("[name='askQuestionText']"),f=b.val(),b=b.attr("placeholder");if("undefined"===typeof f||f.match(/^\s*$/)||f===b)return d.attr("class","askQuestionForm hasEmptyQuestion"),!1;if(c)return c=!1,b=e,f=0<=f.indexOf("?"),b(d,f),!1;d.attr("class","askQuestionForm");return!0});var e=function(a,b){b?a.trigger("submit"):a.attr("class","askQuestionForm hasBadQuestion")}});g.when("jQuery","ready").register("askPostQuestionValidation",function(a){function c(c){var h=a(c.currentTarget),n=b.val(),m=
b.attr("placeholder");a(".askError").hide();return"undefined"===typeof n||n.match(/^\s*$/)||n===m?(f.show(),c.stopImmediatePropagation(),!1):d?(d=!1,m=e,n=0<=n.indexOf("?"),m(h,n),c.stopImmediatePropagation(),!1):!0}function e(a,b){b?a.trigger("submit"):h.show()}var d=!0,b,f=a(".askEmptyQuestionError"),h=a(".askBadQuestionError");return{setup:function(a,d,f){b=f;a.delegate(d,"submit",c)}}});g.when("jQuery","askHuddlesControl","askLanguageFilterPageReload","askLanguageFilterCsm","ready").execute(function(a,
c,e,d){function b(){var b=a(".askWidgetQuestions .askLanguageFilterContainer"),c=b.data("initial"),b=b.find("select").val();return a.trim(b||c)}function f(d){var f=a.trim(a(".askWidgetQuestions input.askAsin").val()),e=b();a.ajax({url:"/ask/questions/inline/"+f+"/"+d+"?askLanguage="+e,data:{},dataType:"html",cache:!1,timeout:5E3,success:function(b){a(".askInlineWidget .askFailedToFetchMoreQuestions").hide();a(".askInlineWidget .askLoadMoreQuestions").hide();a(".askInlineWidget .askMoreQandAResults").append(b);
a(".askInlineWidget .askTopQandALoadMoreQuestions").hide();b=d+1;a(".askWidgetQuestions input.nextPage").val(b);b=document.getElementById("askInlineQuestionsPage-"+d);var f;if(f="undefined"!==typeof b&&null!==b)f=b.getBoundingClientRect(),f=!(0<=f.top&&0<=f.left&&f.bottom<=(p.innerHeight||a(p).height())&&f.right<=(p.innerWidth||a(p).width()));if(f){f=0;do f+=b.offsetTop||0,b=b.offsetParent;while(b);b=f;a("html, body").animate({scrollTop:b},"slow")}c.initializeHuddlesLinks(a(".askInlineWidget .askMoreQandAResults"),
"dp")},error:function(){a(".askInlineWidget .askFailedToFetchMoreQuestions").show()}})}a("body").delegate(".askInlineWidget .askSeeMoreQuestionsLink","click",function(a){f(2);a.preventDefault()});a("body").delegate(".askInlineWidget .askLoadMoreQuestionsLink","click",function(b){var c=parseInt(a(".askWidgetQuestions input.nextPage").val(),10)||0;0<c&&(f(c),b.preventDefault())});e.idempotentSetup();d.idempotentSetup()});g.when("jQuery","ready").execute(function(a){function c(b){b=document.getElementById(b);
var c;if(c="undefined"!==typeof b&&null!==b)c=b.getBoundingClientRect(),c=!(0<=c.top&&0<=c.left&&c.bottom<=(p.innerHeight||a(p).height())&&c.right<=(p.innerWidth||a(p).width()));if(c){c=0;do c+=b.offsetTop||0,b=b.offsetParent;while(b);b=c;a("html, body").animate({scrollTop:b},"slow")}}function e(){var b=a(".askQuestionForm input.askAsin").val();return b&&0!==b.length?"?asin="+b:""}function d(d,f){if(d){var l=e();a.ajax({url:"/ask/answers/inline/"+d+"/"+f+l,data:{},dataType:"html",cache:!1,timeout:5E3,
success:function(e){a(".askInlineWidget #failed-to-fetch-answers-"+d).hide();a(".askInlineWidget #askSeeAllAnswersLink-"+d).hide();a(".askInlineWidget .askCollapseAnswers-"+d).show();a(".askInlineWidget .askLoadMoreAnswersLink-"+d).hide();a(".askInlineWidget #"+d).show();a(".askInlineWidget #"+d).append(e);b(d,f);c("askInlineAnswersPage-"+d+"-"+f)},error:function(){a(".askInlineWidget #failed-to-fetch-answers-"+d).show()}})}}function b(b,c){a(".askWidgetQuestions input.currentAnswersPage-"+b).val(c)}
function f(d){c("question-"+d);setTimeout(function(){a(".askInlineWidget #"+d).empty();a(".askInlineWidget .askCollapseAnswers-"+d).hide();a(".askInlineWidget #failed-to-fetch-answers-"+d).hide();a(".askInlineWidget #askSeeAllAnswersLink-"+d).show()},500);b(d,1)}a("body").delegate(".askInlineWidget .askWidgetSeeAllAnswersInline","click",function(b){var c=a(b.currentTarget).attr("data-questionId");d(c,1);b.preventDefault()});a("body").delegate(".askInlineWidget .askWidgetLoadMoreAnswersInline","click",
function(b){var c=a(b.currentTarget).attr("data-questionId"),f=parseInt(a(".askWidgetQuestions input.currentAnswersPage-"+c).val(),10)||0;0<f&&(d(c,f+1),b.preventDefault())});a("body").delegate("input[name='collapse-to-most-helpful-answer']","click",function(b){b=a(b.currentTarget).attr("data-questionId");f(b)})});g.when("jQuery","ready").register("askAuthenticatedAjax",function(a){return{handler:function(c,e){var d=a(c.currentTarget),b=d.attr("action"),f=d.attr("method"),h=d.serializeArray(),k=d.attr("type"),
b={url:b,type:f,data:h,dataType:k,timeout:e,beforeSend:function(b,c){c.dataType===A&&b.setRequestHeader("Accept","*/*;q=0.5, "+c.accepts.script);b.setRequestHeader("X-Requested-With","XMLHttpRequest");var f=a.Event("ajax:beforeSend");d.trigger(f,[b,c]);if(!1!==f.result)d.trigger("ajax:send",b);else return!1},success:function(a,b,c){d.trigger("ajax:success",[a,b,c])},complete:function(a,b){d.trigger("ajax:complete",[a,b])},error:function(a,b,c){d.trigger("ajax:error",[a,b,c])}};if(!("withCredentials"in
new XMLHttpRequest))return!0;b.xhrFields={withCredentials:!0};c.preventDefault();a.ajax(b)}}});g.when("jQuery","askAbstractLiveSearch","ready").register("askLiveSearch",function(a,c){return{setup:function(a,d,b){c.setup(a,d,b,"/ask/livesearch/search")}}});g.when("askAbstractLiveSearch","ready").register("askDetailPageSearchLiveSearch",function(a){return{setup:function(c,e,d){a.setup(c,e,d,"/ask/livesearch/detailPageSearch/search")}}});g.when("jQuery","ready").register("askAbstractLiveSearch",function(a){function c(a){return"function"!==
typeof a?function(){}:a}var e=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}();return{setup:function(d,b,f,h){function k(){var b=w.val(),c=a.trim(b);clearTimeout(g);if(c!==q){null===x&&(x=e(),z.val(x));t=a(".askLiveSearchPageLoadId").val();if(null===t||""===t)t=e(),a(".askLiveSearchPageLoadId").val(t);r=a.trim(p.val());0===c.length?(A(),m&&m.abort(),x=q=null):b.match(/\w\W+$/)?
l(c):g=setTimeout(function(){l(c)},500)}}function l(b){D();clearTimeout(g);m=a.ajax(h,{type:"GET",data:{query:b,asin:E,forumId:B,liveSearchSessionId:z.val(),liveSearchPageLoadId:a(".askLiveSearchPageLoadId").val(),searchSource:n(b),askLanguage:a.trim(y.find("[name=askLanguage]").val())}}).done(v).fail(F);q=b}function n(a){var b=w.data("autocomplete");a="undefined"!==typeof b&&null!==b?b.getSearchSuggestions().includes(a):!1;return a?"typeAhead":r}var m,g,q,x=null,t=null,r=null,w=d.find(b),y=w.closest("form"),
z=d.find(".askLiveSearchSessionId"),p=y.children("input[name=searchSource]"),E=a.trim(y.children("input.askAsin").val()),B=a.trim(y.children("input.askForumId").val()),r=a.trim(y.children("input[name=searchSource]").val()),D=c(f.liveSearchStartCallback),v=c(f.liveSearchDoneCallback),A=c(f.liveSearchClearCallback),F=c(f.liveSearchFailCallback);d.undelegate(".livesearch").delegate(b,"keyup.livesearch input.livesearch",k);return k}}});g.when("A","ready").register("askAbstractDetailPageSearchPostQuestion",
function(a){function c(b,c,d){a.get("/gp/customer-forum/dynamic-update/validate-post.html",{contentType:"json",params:{body:b,checkIsQuestion:1},success:function(a){a.hasError||a.content.isQuestion?c():d()},error:function(){c()}})}var e=a.$,d={postQuestionTextInputSelector:"input",callbacks:{goodQuestion:function(){},badQuestion:function(){},emptyQuestion:function(){}}};return{setup:function(b,f){function h(){k.callbacks.badQuestion();l=!0}var k=e.extend(!0,{},d,f),l=!1;a.declarative(b,"click",function(){var a=
e(k.postQuestionTextInputSelector).val();"undefined"===typeof a||a.match(/^\s*$/)?k.callbacks.emptyQuestion():l?k.callbacks.goodQuestion():-1===a.indexOf("?")?h():c(a,k.callbacks.goodQuestion,h)})}}});g.when("A","a-alert","ready").register("askAnswerSolicitationDeleteAnswer",function(a,c){function e(c){return a.$("#askDeleteAnswerSection-"+c.data.answerId)}return{setup:function(d){var b=a.$("#askPostAnswerFormSection-"+d),f=a.$("#askPostAnswerForm-"+d),h=a.$("#askPostAnswerResponse-"+d);a.declarative("ask-show-delete-answer-section",
"click",function(a){e(a).show()});a.declarative("ask-hide-delete-answer-section","click",function(a){e(a).hide()});a.declarative("ask-submit-delete-answer-form","click",function(d){d=d.data.answerId;var e=a.$("#askDeleteAnswerForm-"+d),n=a.$("#askAnswerContentSection-"+d),m=a.$("#askUpdateAnswerSection-"+d),g=c("#askDeleteAnswerError-"+d);g.hide();m.hide();a.post(e.attr("action"),{withCredentials:!0,params:e.serializeArray(),indicator:a.$("#askDeleteAnswerSpinner-"+d),success:function(a,c,d){h.hide();
n.hide();b.show();f.show()},error:function(a){g.html(a.http.responseText).show();m.show()}})})}}});g.when("jQuery","ready").register("askExpander",function(a){return{setup:function(c){c.delegate(".askExpanderContainer .askSeeMore","click",function(c){a(c.currentTarget).closest(".askExpanderContainer").addClass("askExpanderExpanded");c.preventDefault()});c.delegate(".askExpanderContainer .askSeeLess","click",function(c){a(c.currentTarget).parents(".askExpanderContainer").removeClass("askExpanderExpanded");
c.preventDefault()})}}});g.when("A").register("askPreventEnterKey",function(a){a.declarative("ask-prevent-enter-key","keypress",function(a){13===a.$event.which&&a.$event.preventDefault()})});g.when("A","askUtils","ready").register("askPreventDoubleSubmit",function(a,c){return{idempotentSetup:c.makeIdempotent(function(){var c=!1;a.declarative("ask-prevent-double-submit","submit",function(a){c&&a.$event.preventDefault();c=!0})})}});g.when("A","ready").register("askHuddlesControl",function(a){return{initializeHuddlesLinks:function(c,
e){var d={};c.find(".askHuddlesUninitializedLink").each(function(b){b=a.$(this);var c=b.data("questionId");d[c]=b});var b=a.$.map(d,function(a,b){return b});0!==b.length&&a.$.ajax({url:"/ask/conversations/data",data:{questionId:b,sourcePage:e},timeout:5E3,traditional:!0,success:function(b){if(b=a.$.parseJSON(b))a.$.each(b,function(b,c){if(c.questionId&&d[c.questionId]){var f=d[c.questionId];c.url&&(f.find("a").attr("href",c.url),f.removeClass("askHuddlesUninitializedLink"),c.chatboxParams&&a.declarative.create(f.find("a"),
"render-huddles-chat",c.chatboxParams))}}),c.find(".askHuddlesUninitializedLink").remove()},complete:function(){a.trigger("ask:huddles-data:complete")}})},initializeChatbox:function(){g.when("A","huddles-chatbox").execute(function(a,e){a.declarative("render-huddles-chat","click",function(d){e.renderHuddleChat(a.$.extend({},d.data,{showEmbedded:!1}));d.$event.preventDefault()})})}}});g.register("askCsmCounter",function(){function a(a){if("undefined"!==typeof a){var e=p.ue;if(e&&e.count){var d=e.count(a)||
0;e.count(a,d+1)}}}return{logCounterMetric:a,logAddCounterMetric:function(a,e){if("undefined"!==typeof a){var d=p.ue;if(d&&d.count){var b=d.count(a)||0;d.count(a,b+e)}}},createRateLimitedCsmLogHandler:function(c){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1},300),a(c))}}}});g.when("A","askUtils","jQuery","ready").register("askPrefetchDetailPageSearchData",function(a,c,e){function d(){var b,c={};a.declarative("ask-detail-page-search-prefetch-click","click",function(d){var e=b||d.data.language;
if(!c[e||"DEFAULT_KEY"]){d=d.data.asin;var l={};e&&(l.askLanguage=e);a.post("/ask/livesearch/detailPageSearch/search/prefetch/"+d,{params:l})}c[e||"DEFAULT_KEY"]=!0});a.declarative("ask-detail-page-search-prefetch-language-change","change",function(a){b=a.$target.val()})}return{setup:d,idempotentSetup:c.makeIdempotent(d)}});g.when("A","ready").register("askUtils",function(a){var c=a.$,e=[],d=[];return{makeIdempotent:function(a){var c=!1;return function(){c||(a.apply(this,arguments),c=!0)}},makeRateLimited:function(a,
d){var e=!1,k=c.extend(!0,{},{minPeriodInMilliseconds:2E3},d);return function(){e||a.apply(this,arguments);e=!0;setTimeout(function(){e=!1},k.minPeriodInMilliseconds)}},idempotentDeclarative:function(b,c,d){function k(b,c,d){var f;a.declarative(b,c,function(a){f===A&&(f=a.type);a.type===f&&d(a)})}var l=b+c;e[l]||("click touchstart"===c||"touchstart click"===c?k(b,c,d):a.declarative(b,c,d),e[l]=!0)},idempotentDeclarativeCreate:function(b,c){var e=b.selector+c;d[e]||(a.declarative.create(b,c),d[e]=
!0)},goToUrl:function(a){p.location.href=a},defaultFunction:function(a){return"function"!==typeof a?function(){}:a},generateUUID:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}}});g.when("A","askCsmCounter","askUtils","ready").register("askLogClickCsm",function(a,c,e){return{idempotentSetup:function(){e.idempotentDeclarative("ask-log-click-csm","click touchstart",function(a){c.logCounterMetric(a.data.metricName)})}}});
g.when("A","askUtils","ready").register("askFollowupQuestions",function(a,c){function e(a){var c="."+a.$target.closest(".askDPSearchSecondaryViewContent, .askBtfSearchViewContent, .askDPSearchViewContent, .askSearchPageContent").find("form:first").attr("class").split(" ")[0],e;""!==b.trim(b(c).find(".askDPSearchTextInput").prop("outerHTML"))?(e=b(".askDetailPageSearchWidgetSection"),e.length&&(e=e.offset().top,b("html, body").animate({scrollTop:e},"slow")),e=".askDPSearchTextInput"):""!==b.trim(b(c).find(".askBtfSearchTextInput").prop("outerHTML"))?
(e=b(".askInlineWidget"),e.length&&(e=e.offset().top,b("html, body").animate({scrollTop:e},"slow")),e=".askBtfSearchTextInput"):""!==b.trim(b(c).find(".askSearchTextInput").prop("outerHTML"))&&(e=".askSearchTextInput");e=b(e+" input, input"+e);e.val("").trigger("input");var l=b(c+" [name=followupSearchSource]").val();d(c,l);a=b.trim(a.$currentTarget.text());e.val(a).trigger("input")}function d(a,c){var d=b(a),e=d.siblings(".askPostQuestionForm");d.add(e).find("[name=searchSource]").val(c)}var b=a.$;
return{idempotentSetup:function(){c.idempotentDeclarative("ask-click-followup-question","click",e)},resetSWDPSearchSource:function(a){var c=b(a+" [name=originalSearchSource]").val();d(a,c)}}});g.when("A","askUtils","ready").register("askLanguageFilterPageReload",function(a,c){return{idempotentSetup:c.makeIdempotent(function(){a.declarative("ask-page-reload-on-language-filter-change","change",function(a){a=a.$currentTarget.find("option:selected").data("url");c.goToUrl(a)})})}});g.when("A","askUtils",
"ready").register("askLanguageFilterAjaxReload",function(a,c){function e(a){d(b).replaceWith(a);f.callbacks.reloadSuccess()}var d=a.$,b,f,h={callbacks:{reloadStart:function(){},reloadSuccess:function(){},reloadError:function(){}}};return{idempotentSetup:c.makeIdempotent(function(c,l){f=d.extend(!0,{},h,l);b=c;a.declarative("ask-btf-ajax-reload-on-language-filter-change","change",function(a){a={url:a.$currentTarget.find("option:selected").data("url"),method:"GET",accepts:"text/html",beforeSend:function(){f.callbacks.reloadStart()},
success:e,error:function(a,b){f.callbacks.reloadError()}};d.ajax(a)})})}});g.when("A","askUtils","askCsmCounter","askLogClickCsm","ready").register("askLanguageFilterCsm",function(a,c,e,d){return{idempotentSetup:c.makeIdempotent(function(){a.declarative("ask-language-filter-option-click-csm","change",function(a){a=a.$currentTarget.find("option:selected").data("csm-name");e.logCounterMetric(a)});d.idempotentSetup()})}});g.when("A","a-alert","ready").register("askUpperFunnelQuestionPostAnswer",function(a,
c){return{setup:function(e){var d=a.$("#askPostAnswerFormSection-"+e),b=a.$("#askPostAnswerForm-"+e),f=a.$("#askAnswerTextArea-"+e),h=a.$("#askPostAnswerResponse-"+e),k=a.$("#askPostAnswerSpinner-"+e),l=c("#askPostAnswerError-"+e);a.declarative.create(b,"ask-post-answer-submit");a.declarative("ask-post-answer-submit","submit",function(c){c.$event.preventDefault();d.children().hide();a.post(b.attr("action"),{withCredentials:!0,params:b.serializeArray(),indicator:k,success:function(a,b,c){h.html(a);
h.show();f.val("")},error:function(c){401===c.http.status||409===c.http.status?(a.declarative.remove(b,"ask-post-answer-submit"),b.submit()):(b.show(),l.html(c.http.responseText).show())}})});a.declarative("ask-submit-delete-answer-form","click",function(f){f=f.data.answerId;var e=a.$("#askDeleteAnswerForm-"+f),k=a.$("#askAnswerContentSection-"+f),l=a.$("#askUpdateAnswerSection-"+f),g=c("#askDeleteAnswerError-"+f);g.hide();l.hide();a.post(e.attr("action"),{withCredentials:!0,params:e.serializeArray(),
indicator:a.$("#askDeleteAnswerSpinner-"+f),success:function(a,c,f){h.hide();k.hide();d.show();b.show()},error:function(a){g.html(a.http.responseText).show();l.show()}})})}}});g.when("A","askUtils","ready").register("askUpperFunnelQuestionRedirect",function(a,c){return{setup:function(e){var d=a.$("#redirectDelay"),b=d.data("message"),f=10,h=setInterval(function(){f--;var a=b.replace("##delay##",f);d.text(a);0===f&&(clearInterval(h),c.goToUrl(e))},1E3);a.declarative("ask-redirect-to-spark-action",
"click",function(a){c.goToUrl(e)})}}});g.when("A","a-carousel-framework","a-alert","askCsmCounter","ready").register("askAnswerMoreQuestionsCarousel",function(a,c,e,d){function b(a){return a.checkValidity&&!a.checkValidity()?(a.reportValidity&&a.reportValidity(),!1):!0}var f=a.$,h=0,k=0;return{initializeCarousel:function(){c.createAll();c.initializeAll();f(".ask-answer-more-questions-carousel-pagination-dots li:gt(4)").hide()},setup:function(l,n){var m=c.getCarouselByName("askAnswerMoreQuestionsCarouselContainer"),
g=m.getAttr("set_size");a.on("a:carousel:askAnswerMoreQuestionsCarouselContainer:change:pageNumber",function(b){var c=b.newValue;1<=h&&6<c&&f(".ask-answer-more-questions-carousel-pagination-dots li:gt(5)").show();if(1>h&&5<c)m.gotoPage(b.oldValue);else{k<c&&(d.logAddCounterMetric("ask-answer-more-questions-highest-card-number-"+n,c-k),k=c);b=b.oldValue;var e=f(".ask-answer-more-questions-carousel-pagination-dots li");e.eq(b-1).removeClass("a-selected");e.eq(c-1).addClass("a-selected")}"desktop"===
n&&(b=a.$("#askAnswerMoreQuestionsDesktopBack"),1===c&&(b.removeClass("askAnswerMoreQuestionsDesktopBackActivate"),b.addClass("askAnswerMoreQuestionsDesktopBackDeactivate")),1<c&&(b.removeClass("askAnswerMoreQuestionsDesktopBackActivate"),b.addClass("askAnswerMoreQuestionsDesktopBackActivate")))});a.declarative("ask-answer-more-question-show-more-click","click",function(a){d.logCounterMetric("ask-answer-more-questions-show-more-questions-link-"+n);a=m.getAttr("pageNumber");f(".ask-answer-more-questions-carousel-pagination-dots li:gt(5)").show();
a+1<=g&&1<=h&&m.gotoPage(a+1)});a.declarative("ask-answer-more-question-show-no-click","click",function(a){d.logCounterMetric("ask-answer-more-questions-no-more-question-link-"+n);l.hide()});a.declarative("ask-answer-more-question-back-click","click",function(a){d.logCounterMetric("ask-answer-more-questions-back-previous-question-link-"+n);m.gotoPrevPage()});a.declarative("ask-answer-more-questions-skip-click","click",function(a){d.logCounterMetric("ask-answer-more-questions-skip-question-link-"+
n);a=m.getAttr("pageNumber");1<=h&&6<a+1&&f(".ask-answer-more-questions-carousel-pagination-dots li:gt(5)").show();a===g||1>h&&5===a?l.hide():m.gotoNextPage()});a.declarative("ask-answer-more-question-answer-click","click",function(c){c=c.data.questionId;var k=m.getAttr("pageNumber"),l=a.$("#askPostAnswerForm-"+c),r=l.parents("li.a-carousel-card");a.$("#askAnswerTextArea-"+c);a.$("#askPostAnswerResponse-"+c);var w=a.$("#askPostAnswerSpinner-"+c),y=e("#askPostAnswerError-"+c),z=a.$("#askPostAnswerFormSection-"+
c).find(".askAnswerMoreQuestionsConfirmation");b(l[0])&&a.post(l.attr("action"),{withCredentials:!0,params:l.serializeArray(),indicator:w,success:function(a,b,c){h++;d.logCounterMetric("ask-answer-more-questions-post-answer-"+n);1<=h&&f(".ask-answer-more-questions-carousel-pagination-dots li:eq(5)").show();z.show();setTimeout(function(){z.hide();r.html(a).show();k+1<=g&&m.gotoNextPage()},2E3)},error:function(a){l.show();y.html(a.http.responseText).show()}})})},showAfterPopoverHideCallback:function(b,
c){var f=a.$("#askPostAnswerResponse-"+b),e=a.$("#askAnswerTextArea-"+b);f.show();e.val("");f=5<k?k-h-2:k-h-1;d.logAddCounterMetric("ask-answer-more-questions-skipped-questions-close-popover-"+c,0<f?f:0);k=h=0}}});g.when("A","askRenderAutoCompleteSuggestion","askUtils","ready").register("askAbstractAutoComplete",function(a,c,e){var d=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}(),
b=a.$,f=[13,37,38,39,40];return{setup:function(a,k,l){function n(a){r.data("autocomplete").updateSearchSuggestions(a.autoCompleteResults)}var m,g,q,x=null,t=null,r=a.find(k),w=r.closest("form"),y=a.find(".askLiveSearchSessionId"),z=w.children("input[name=searchSource]"),p=b.trim(w.children("input.askAsin").val()),E=b.trim(w.children("input.askForumId").val()),B=b.trim(z.val());r.data("autocomplete",c.instantiate());r.data("autocomplete").setup(a,k,{minLength:2,delay:0});e.idempotentDeclarative(l,
"keyup input",function(a){if(!f.includes(a.$event.which)){a=r.val();var c=b.trim(a);clearTimeout(g);if(c!==q){null===x&&(x=d(),y.val(x));t=b(".askLiveSearchPageLoadId").val();if(null===t||""===t)t=d(),b(".askLiveSearchPageLoadId").val(t);0===c.length&&(r.data("autocomplete").clear(),m&&m.abort(),q=null);2>c.length||(g=setTimeout(function(){clearTimeout(g);m=b.ajax("/ask/autocomplete/suggest",{type:"GET",data:{query:c,asin:p,forumId:E,liveSearchSessionId:y.val(),liveSearchPageLoadId:b(".askLiveSearchPageLoadId").val(),
searchSource:B,askLanguage:b.trim(w.find("[name=askLanguage]").val())}}).done(n);q=c},20))}}});e.idempotentDeclarativeCreate(r,l)}}});g.when("A","askUtils","jQueryUI-autocomplete","ready").register("askRenderAutoCompleteSuggestion",function(a,c){return{instantiate:function(){function c(){var a=d();f.autocomplete({source:function(b,c){c(a)},minLength:h.minLength||1,delay:h.delay||0,appendTo:k,select:function(a,c){var d=b.trim(c.item.value);f.val(d);d=b.Event("keyup",{which:13});f.trigger(d)}});f.data("uiAutocomplete")._renderItem=
function(a,c){return b("<li></li>").data("item.autocomplete",c).append("<a style='overflow-x:hidden; text-overflow: ellipsis; white-space: nowrap; width: 100%'>"+c.label+"</a>").appendTo(a)};f.autocomplete("search")}function d(){var a=[],b=f.val();n.forEach(function(b){b=b.question||"";a.push({label:b,value:b})});a.push({label:m,value:b});return a}var b=a.$,f=null,h={},k=null,l=null,n=[],m="";return{setup:function(a,c,d){f=b(a).find(c);k=f.closest(".askAutocomplete");l=k.data("autocomplete-search-results-brief");
h=d||{}},updateSearchSuggestions:function(a){var b=f.val();m=l.replace("##query##",b);n=a;c()},getSearchSuggestions:function(){var a=[];n.forEach(function(b){a.push(b.question||"")});return a},clear:function(){f.autocomplete({source:[]});f.autocomplete("close")}}}}});g.when("A","jQuery","askVoteControl","askExpander","askLiveSearch","askHuddlesControl","askCsmCounter","askPreventDoubleSubmit","askLanguageFilterPageReload","askLanguageFilterAjaxReload","askLanguageFilterCsm","askDesktopAutoComplete",
"askPrefetchDetailPageSearchData","askDesktopBtfSearchCsm","ready").register("askDetailPageWidget",function(a,c,e,d,b,f,h,k,l,n,m,g,q,x){function t(a){a.delegate(".askInlineWidget .askLiveSearchEnabled","keypress",function(a){13===(a.keyCode||a.which)&&a.preventDefault()})}var r={liveSearchStartCallback:function(){c(".askLiveSearchLoading").show();c(".askBtfErrorOnLoadingMozartTopQuestions").addClass("aok-hidden")},liveSearchDoneCallback:function(a){c(".askInlineWidget .askMoreQandAResults").empty();
c(".askWidgetQuestions input.nextPage").val(2);c(".askInlineWidget .askTopQandALoadMoreQuestions").hide();c(".askLiveSearchLoading").hide();c(".askLiveSearchResults").html(a);c(".askWidgetQuestions").attr("class","askWidgetQuestions askLiveSearchShow");c(".askInlineWidget .askQuestionExamples").hide();c(".askQuestionForm").attr("class","askQuestionForm");c(".askPostQuestionButtonContainer").show();c(".askLiveSearchSuccessfulMessage").show();c(".askLiveSearchFailureMessage").hide()},liveSearchClearCallback:function(){c(".askLiveSearchLoading").hide();
c(".askWidgetQuestions").attr("class","askWidgetQuestions askLiveSearchHide");c(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();c(".askPostQuestionButtonContainer").hide()},liveSearchFailCallback:function(){c(".askLiveSearchLoading").hide();c(".askWidgetQuestions").attr("class","askWidgetQuestions askLiveSearchHide");c(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();c(".askPostQuestionButtonContainer").show();
c(".askLiveSearchSuccessfulMessage").hide();c(".askLiveSearchFailureMessage").show()}},w={callbacks:{reloadStart:function(){c(".askBtfErrorOnLoadingMozartTopQuestions").addClass("aok-hidden")},reloadSuccess:function(){var a=c("#cf-ask-cel");b.setup(a,".askInlineWidget .askLiveSearchEnabled",r);f.initializeHuddlesLinks(a,"dp")},reloadError:function(){c(".askBtfErrorOnLoadingMozartTopQuestions").removeClass("aok-hidden")}}};return{setup:function(){var a=c("#cf-ask-cel");k.idempotentSetup();l.idempotentSetup();
n.idempotentSetup("#ask-btf-container",w);m.idempotentSetup();e.setup(a);d.setup(a);t(a);b.setup(a,".askInlineWidget .askLiveSearchEnabled",r);g.setup(a,".askInlineWidget .askLiveSearchEnabled","ask-auto-complete-action-btf");f.initializeHuddlesLinks(a,"dp");q.idempotentSetup();x.idempotentSetup()}}});g.when("jQuery","askVoteControl","askExpander","askHuddlesControl","askPreventDoubleSubmit","ready").register("askAllQuestionsPage",function(a,c,e,d,b){return{setup:function(){b.idempotentSetup();c.setup(a(".askTeaserQuestions"));
e.setup(a(".askTeaserQuestions"));d.initializeHuddlesLinks(a(".askTeaserQuestions"),"ql");d.initializeChatbox()}}});g.when("jQuery","askDesktopAnswerSolicitationPostAnswer","askAnswerSolicitationDeleteAnswer","askExpander","ready").register("askAnswerSolicitationLandingPage",function(a,c,e,d){return{setup:function(b){c.setup(b);e.setup(b);d.setup(a(".askTestQuestion"))}}});g.when("jQuery","askExpander","askHuddlesControl","ready").register("askDesktopAllAnswersPage",function(a,c,e){return{setup:function(){c.setup(a(".askAnswersAndComments"));
e.initializeChatbox()}}});g.when("A","askDesktopDetailPageWidgetLiveSearch","askDesktopAbstractDetailPageSearchWidget","askDesktopDetailPageSearchCsm","askDesktopAutoComplete","ready").register("askDesktopDetailPageSearchWidget",function(a,c,e,d,b){var f=a.$;return{setup:function(){f(".askDPSearchForm");var h=f(".askDPSearchForm");c.setup();e.setup();d.setup();b.setup(h,".askDPSearchTextInput","ask-auto-complete-action-swdp");(function(){a.declarative("ask-dpsearch-desktop-input-binding-language-change",
"change",function(){f(".askDPSearchTextInput").val("").trigger("input")})})()}}});g.when("jQuery","askExpander","ready").register("askDesktopSingleAnswerPage",function(a,c){return{setup:function(){c.setup(a(".askAnswerAndComments"))}}});g.when("jQuery","askUpperFunnelQuestionPostAnswer","askExpander","ready").register("askDesktopUpperFunnelQuestionLandingPage",function(a,c,e){return{setup:function(d){c.setup(d);e.setup(a(".askTestQuestion"))}}});g.when("A","askDetailPageSearchLiveSearch","askDesktopBtfTabbing",
"askExpander","askDesktopBtfSearchPostQuestion","askFollowupQuestions","askLanguageFilterPageReload","askDesktopBtfSearchCsm","askLanguageFilterCsm","askPrefetchDetailPageSearchData","ready").register("askDesktopBtfSearch",function(a,c,e,d,b,f,h,k,l,n){var m=a.$;return{setup:function(){var a=m(".askBtfSearchResultsContainer"),g=m(".askBtfSearchTabHeaders"),x=m(".askBtfSearchForm"),t=m(".askBtfSearchFailureMessage"),r=m(".askPostQuestionPromptContainer"),w=m(".askBtfSearchPostQuestionPrompt"),y=m(".askBtfSearchPostQuestionForm"),
z=m(".askBtfSearchQuestionErrorContainer"),p=m(".askBtfSearchSearchIndicator"),E=m(".askBtfSearchResultsViewableContent"),B=m(".askTopQandA");c.setup(x,".askBtfSearchTextInput",{liveSearchStartCallback:function(){z.children().hide();p.removeClass("aok-hidden");p.show()},liveSearchDoneCallback:function(b){m(".askInlineWidget .askMoreQandAResults").empty();m(".askWidgetQuestions input.nextPage").val(2);m(".askInlineWidget .askTopQandALoadMoreQuestions").hide();E.removeClass("aok-hidden");a.html(b);
g.show();r.show();t.hide();p.hide();e.switchToTab(0);w.show();y.hide();m(".askInlineWidget .askQuestionExamples").hide();B.hide()},liveSearchClearCallback:function(){f.resetSWDPSearchSource(".askBtfSearchForm");a.empty();g.hide();r.hide();t.hide();p.hide();z.children().hide();m(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();B.show()},liveSearchFailCallback:function(){a.empty();g.hide();r.hide();p.hide();t.show();m(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();
B.show()}});e.setup();k.idempotentSetup();d.setup(a);b.setup();f.idempotentSetup();h.idempotentSetup();l.idempotentSetup();n.idempotentSetup()}}});g.when("A").execute(function(a){a.on("a:dropdown:selected:question_order_dropdown",function(a){p.location=a.value})});g.when("jQuery","ready").execute(function(a){"placeholder"in document.createElement("textarea")||a(".askQuestionForm textarea").each(function(){""===a(this).val()&&""!==a(this).attr("placeholder")&&a(this).val(a(this).attr("placeholder"));
a(this).focus(function(){a(this).val()===a(this).attr("placeholder")&&a(this).val("")});a(this).blur(function(){""===a(this).val()&&a(this).val(a(this).attr("placeholder"))})})});g.when("jQuery","askAuthenticatedAjax","ready").register("askVoteControl",function(a,c){return{setup:function(e){e.undelegate(".voteAjax form","submit",c.handler);e.undelegate(".voteAjax form","ajax:beforeSend");e.undelegate(".voteAjax form","ajax:send");e.undelegate(".voteAjax form","ajax:error");e.undelegate(".voteAjax form",
"ajax:success");e.delegate(".voteAjax form","submit",c.handler);e.delegate(".voteAjax form","ajax:beforeSend",function(c,b){var f=a(c.currentTarget),e=f.closest(".voteAjax");if(e.hasClass("up")&&f.hasClass("up")||e.hasClass("down")&&f.hasClass("down"))return c.preventDefault(),b.abort(),!1});e.delegate(".voteAjax form","ajax:error",function(d,b){if(401===b.status||466===b.status)e.undelegate(".voteAjax form","submit",c.handler),a(d.currentTarget).trigger("submit")});e.delegate(".voteAjax form","ajax:success",
function(c){c=a(c.currentTarget);var b=c.closest(".voteAjax"),f=b.find(".label"),e=b.find(".count"),k=c.hasClass("up")?1:-1,k=parseInt(f.attr("data-count"),10)+k;f.attr("data-count",k);e.text(""+k);b.attr("class","vote voteAjax "+c.attr("class"))})}}});g.when("A","ready").register("askDesktopTabbing",function(a){function c(a){(function(a){var b=d(".askSearchResultsHeader");a=d(b.get(a));b.removeClass("askSearchResultsHeaderActive");a.addClass("askSearchResultsHeaderActive")})(a);(function(a){var b=
d(".askSearchResults");a=d(b.get(a));b.removeClass("askSearchResultsActive");a.addClass("askSearchResultsActive")})(a)}function e(){a.declarative("ask-dpsearch-desktop-go-to-tab","click",function(a){d(".askSearchResultsHeader").index(a.$target);c(a.data.index)})}var d=a.$;return{setup:function(){e()},switchToTab:c}});g.when("A","askAbstractDetailPageSearchPostQuestion","askUtils","ready").register("askDesktopDetailPageSearchPostQuestion",function(a,c,e){var d=a.$;return{setup:function(){var b=d(".askDPSearchForm"),
f=d(".askDPSearchQuestionErrorContainer"),h=f.find(".askBadQuestionError");a.declarative("ask-dpsearch-desktop-open-post-question","click",function(a){d(".askDPSearchPostQuestionPrompt").hide();d(".askDPSearchPostQuestionForm").removeClass("aok-hidden").show();a=d(".askDPSearchTextInput").val();d("input.askDPSearchPostTextInput").val(a)});var k={postQuestionTextInputSelector:"input.askDPSearchPostTextInput",callbacks:{goodQuestion:e.makeRateLimited(function(){b.submit()},{minPeriodInMilliseconds:2E3}),
badQuestion:function(){f.children().hide();h.show()}}};c.setup("ask-dpsearch-desktop-post-question",k)}}});g.when("A","askCsmCounter","askLogClickCsm","askLanguageFilterCsm","ready").register("askDesktopDetailPageSearchCsm",function(a,c,e,d){return{setup:function(){a.declarative("ask-dpsearch-desktop-input-change","change",function(){c.logCounterMetric("ask-dpsearch-desktop-input-change")});a.declarative("ask-dpsearch-desktop-input-keyup","keyup",function(){c.logCounterMetric("ask-dpsearch-desktop-input-keyup")});
var b=c.createRateLimitedCsmLogHandler("ask-dpsearch-desktop-input-click");a.declarative("ask-dpsearch-desktop-input-click","click touchstart",b);b=c.createRateLimitedCsmLogHandler("ask-dpsearch-desktop-input-focusin");a.declarative("ask-dpsearch-desktop-input-focusin","focusin",b);e.idempotentSetup();d.idempotentSetup()}}});g.when("A","askCsmCounter","askLogClickCsm","ready").register("askDesktopAllQuestionsPageSearchCsm",function(a,c,e){return{setup:function(){a.declarative("ask-aqpsearch-desktop-input-change",
"change",function(){c.logCounterMetric("ask-aqpsearch-desktop-input-change")});a.declarative("ask-aqpsearch-desktop-input-keyup","keyup",function(){c.logCounterMetric("ask-aqpsearch-desktop-input-keyup")});var d=c.createRateLimitedCsmLogHandler("ask-aqpsearch-desktop-input-click");a.declarative("ask-aqpsearch-desktop-input-click","click touchstart",d);d=c.createRateLimitedCsmLogHandler("ask-aqpsearch-desktop-input-focusin");a.declarative("ask-aqpsearch-desktop-input-focusin","focusin",d);e.idempotentSetup()}}});
g.when("A","askDetailPageSearchLiveSearch","askDesktopTabbing","askFollowupQuestions","ready").register("askDesktopDetailPageWidgetLiveSearch",function(a,c,e,d){var b=a.$;return{setup:function(){var a=b(".askSearchResultsContainer"),h=b(".askSearchTabHeaders"),k=b(".askDPSearchForm"),l=b(".askDPSearchFailureMessage"),n=b(".askPostQuestionPromptContainer"),m=b(".askDPSearchPostQuestionPrompt"),g=b(".askDPSearchPostQuestionForm"),q=b(".askDPSearchQuestionErrorContainer"),x=b(".askDPSearchSearchIndicator"),
t=b(".askDPSearchResultsViewableContent");c.setup(k,".askDPSearchTextInput",{liveSearchStartCallback:function(){q.children().hide();x.removeClass("aok-hidden");x.show()},liveSearchDoneCallback:function(b){t.removeClass("aok-hidden");a.html(b);h.show();n.show();l.hide();x.hide();e.switchToTab(0);m.show();g.hide()},liveSearchClearCallback:function(){d.resetSWDPSearchSource(".askDPSearchForm");a.empty();h.hide();n.hide();l.hide();x.hide();q.children().hide()},liveSearchFailCallback:function(){a.empty();
h.hide();n.hide();x.hide();l.show()}})}}});g.when("A","askDetailPageSearchLiveSearch","askDesktopTabbing","askFollowupQuestions","ready").register("askDesktopAllQuestionsPageLiveSearch",function(a,c,e,d){var b=a.$;return{setup:function(){function a(){w.hide();y.hide();z.hide()}var h=b(".askSearchResultsContainer"),k=b(".askSearchTabHeaders"),l=b(".askDPSearchForm"),n=b(".askDPSearchFailureMessage"),m=b(".askPostQuestionPromptContainer"),g=b(".askDPSearchPostQuestionPrompt"),q=b(".askDPSearchPostQuestionForm"),
x=b(".askDPSearchQuestionErrorContainer"),t=b(".askDPSearchSearchIndicator"),r=b(".askDPSearchResultsViewableContent"),w=b(".askPaginationHeader"),y=b(".askInlineWidget"),z=b(".askQuestionsPagePaginationBar");c.setup(l,".askDPSearchTextInput",{liveSearchStartCallback:function(){x.children().hide();a();t.removeClass("aok-hidden");t.show()},liveSearchDoneCallback:function(b){r.removeClass("aok-hidden");h.html(b);k.show();m.show();n.hide();t.hide();e.switchToTab(0);g.show();q.hide();a()},liveSearchClearCallback:function(){d.resetSWDPSearchSource(".askDPSearchForm");
h.empty();k.hide();m.hide();n.hide();t.hide();x.children().hide();w.show();y.show();z.show()},liveSearchFailCallback:function(){h.empty();k.hide();m.hide();t.hide();n.show();a()}})}}});g.when("A","askPrefetchDetailPageSearchData","askDesktopTabbing","askExpander","askDesktopDetailPageSearchPostQuestion","askFollowupQuestions","ready").register("askDesktopAbstractDetailPageSearchWidget",function(a,c,e,d,b,f){var h=a.$;return{setup:function(){var a=h(".askSearchResultsContainer");c.setup();e.setup();
d.setup(a);b.setup();f.idempotentSetup()}}});g.when("A","jQuery","ready").register("askModerationControl",function(a,c){function e(a,b){var c="";b.forEach(function(b){c+=a.replace(/##marketplace##/g,b.marketplace||"").replace(/##uri##/g,b.uri||"").replace(/##subject##/g,(b.subject||"").id).replace(/##text##/g,b.text||"").replace(/##author##/g,b.actorId||"").replace(/##submitDate##/g,b.submitDate||"").replace(/##contentState##/g,b.contentState||"").replace(/##moderationState##/g,b.moderationState||
"")});return c}function d(a,b){var c="";b.forEach(function(b){c+=a.replace(/##marketplace##/g,b.marketplace||"").replace(/##uri##/g,b.uri||"").replace(/##subject##/g,b.questionUri||"").replace(/##text##/g,b.text||"").replace(/##author##/g,b.actorId||"").replace(/##submitDate##/g,b.submitDate||"").replace(/##contentState##/g,b.contentState||"").replace(/##moderationState##/g,b.moderationState||"")});return c}function b(a){a=a.serializeArray();var b={};c.map(a,function(a,c){b[a.name]=a.value});return b}
return{setup:function(f){function h(){var c=b(f.find("#byCustomerForm"));if(n(c,["customerId","type"])){var h=c.type,k;a:switch(h){case "questions":k=f.find("#questionResultTable");break a;case "answers":k=f.find("#answerResultTable");break a;default:k=null}var l="answers"===h?d:e;a.get("/ask/moderator/searchByCustomer/"+h,{params:c,success:function(a){var b=w(a.items,"uri");D.val(a.nextPageToken||"");k.find("tbody").append(l(p,b)).parent().show()},error:z})}}function k(c,h){var k=b(f.find("#byThreadForm"));
n(k,["questionId"])&&(c&&a.get("/ask/moderator/searchByThread/questions",{params:k,success:function(a){a=a.items;E.find("tbody").append(e(p,a)).parent().show()},error:z}),h&&a.get("/ask/moderator/searchByThread/answers",{params:k,success:function(a){a=a.items;v.val(B.find("tbody tr").length+a.length);B.find("tbody").append(d(p,a)).parent().show()},error:z}))}function l(b,c,d){a.post("/ask/moderator/moderate/"+d,{params:{action:b,uris:c.join(",")},success:y,error:z})}function n(a,b){var c=[];b.forEach(function(b){var d=
"Field "+b+" must be specified.";b=a[b]&&0!==a[b].trim().length?void 0:d;b&&c.push(b)});return c.length?(m(c),!1):!0}function m(a){a="<ul>"+c.map(a,function(a){return"<li>"+a+"</li>"}).join("")+"</ul>";var b=f.find(".moderationError");b.show();b.find(".a-alert-content").html(a)}function g(){f.find(".moderationError").hide().find(".a-alert-content").html("");f.find(".moderationSuccess").hide().find(".a-alert-content").html("")}function q(){f.find("#questionResultTable").hide().find("tbody").html("");
f.find("#answerResultTable").hide().find("tbody").html("")}function x(){D.val("");v.val(0);A.val(10)}function t(a){var b=[];a.find("tbody tr").each(function(a,d){if(c(d).find("input:checkbox").is(":checked")){var f=c(d).find(".itemUri").data("uri");-1===b.indexOf(f)&&b.push(f)}});return b}function r(a){a=a.attr("id");return a.match("question")?"questions":a.match("answer")?"answers":""}function w(a,b){var c=[];return a.filter(function(a){a=a[b]||"";var d=-1===c.indexOf(a);d&&c.push(a);return d})}
function y(a){f.find(".moderationSuccess").show().find(".a-alert-content").html("Action Success!")}function z(a){m(["Error Encountered: "+a.http.responseText])}var p=f.find("#template-tr-item").first().html(),E=f.find("#questionResultTable"),B=f.find("#answerResultTable"),D=f.find("input[name='nextPageToken']"),v=f.find("input[name='offset']"),A=f.find("input[name='limit']"),F="byThread";a.on("a:tabs:searchCriterion:select",function(a){F=a.selectedTab.tabName});f.delegate(".searchByCustomer","click",
function(a){g();q();x();h()});f.delegate(".searchByThread","click",function(a){g();q();x();k(!0,!0)});f.delegate(".loadMore","click",function(a){g();"byCustomer"===F?h():k(!1,!0)});f.delegate(".unsuppress","click",function(a){g();f.find("table:visible").each(function(a,b){var d=c(b),f=t(d);(d=r(d))&&f.length&&l("unsuppress",f,d)})});f.delegate(".suppress","click",function(a){g();f.find("table:visible").each(function(a,b){var d=c(b),f=t(d);(d=r(d))&&f.length&&l("suppress",f,d)})});f.delegate(".suppressAll",
"click",function(b){g();(b=f.find("input[name='questionId']").val())?confirm("Are you sure to suppress the question and all the answers to it?")&&a.post("/ask/moderator/moderate/suppressAll",{params:{questionId:b.trim()},success:y,error:z}):m(["No Question Specified."])});f.delegate("input[name='selectAll']","change",function(a){a=this.checked;c(this).parents("table").find("tbody input:checkbox").prop("checked",a)});f.delegate("select[name='type']","change",function(a){g();q()})}}});g.when("A","a-modal",
"a-alert","askAnswerMoreQuestionsCarousel","a-carousel-framework","askCsmCounter","ready").register("askDesktopAnswerSolicitationPostAnswer",function(a,c,e,d,b,f){function h(c,e){var h=b.getCarouselByName("askAnswerMoreQuestionsCarouselContainer");a.on("a:popover:afterHide:askAnswerMoreQuestionsModal",function(a){d.showAfterPopoverHideCallback(c,e)});a.declarative("ask-answer-more-questions-desktop-back-click","click",function(a){f.logCounterMetric("ask-answer-more-questions-desktop-back-link");1<=
h.getAttr("pageNumber")-1&&h.gotoPrevPage()});a.declarative("ask-answer-more-questions-desktop-pagination-click","click",function(a){f.logCounterMetric("ask-answer-more-questions-desktop-pagination-dot-click");h.gotoPage(a.data.card)})}return{setup:function(b){var l=a.$("#askPostAnswerFormSection-"+b),n=a.$("#askPostAnswerForm-"+b),m=a.$("#askAnswerTextArea-"+b),g=a.$("#askPostAnswerResponse-"+b),q=a.$("#askPostAnswerSpinner-"+b),x=e("#askPostAnswerError-"+b);a.declarative.create(n,"ask-post-answer-submit");
a.declarative("ask-post-answer-submit","submit",function(e){e.$event.preventDefault();l.children().hide();a.post(n.attr("action"),{withCredentials:!0,params:n.serializeArray(),indicator:q,success:function(e,l,n){f.logCounterMetric("ask-answer-solicitation-post-answer-desktop");g.html(e);e=a.$(".askAnswerMoreQuestionsModal");e.length?(f.logCounterMetric("ask-answer-more-questions-enter-desktop"),c.create(e,{name:"askAnswerMoreQuestionsModal",inlineContent:e,height:358,width:427,hideHeader:"true"}).show(),
d.initializeCarousel(),e=c.get("askAnswerMoreQuestionsModal"),d.setup(e,"desktop"),h(b,"desktop")):(g.show(),m.val(""))},error:function(b){401===b.http.status||409===b.http.status?(a.declarative.remove(n,"ask-post-answer-submit"),n.submit()):(n.show(),x.html(b.http.responseText).show())}})})}}});g.when("ready").register("askDesktopAutoComplete",function(){return{setup:function(a,c,e){}}});g.when("A","askAbstractDetailPageSearchPostQuestion","askUtils","ready").register("askDesktopBtfSearchPostQuestion",
function(a,c,e){var d=a.$;return{setup:function(){var b=d(".askBtfSearchForm"),f=d(".askBtfSearchQuestionErrorContainer"),h=f.find(".askBadQuestionError");a.declarative("ask-btfsearch-desktop-open-post-question","click",function(a){d(".askBtfSearchPostQuestionPrompt").hide();d(".askBtfSearchPostQuestionForm").removeClass("aok-hidden").show();a=d(".askBtfSearchTextInput").val();d("input.askBtfSearchPostTextInput").val(a)});var k={postQuestionTextInputSelector:"input.askBtfSearchPostTextInput",callbacks:{goodQuestion:e.makeRateLimited(function(){b.submit()},
{minPeriodInMilliseconds:2E3}),badQuestion:function(){f.children().hide();h.show()}}};c.setup("ask-btfsearch-desktop-post-question",k)}}});g.when("A","ready").register("askDesktopBtfTabbing",function(a){function c(a){(function(a){var b=d(".askBtfSearchResultsHeader");a=d(b.get(a));b.removeClass("askBtfSearchResultsHeaderActive");a.addClass("askBtfSearchResultsHeaderActive")})(a);(function(a){var b=d(".askBtfSearchResults");a=d(b.get(a));b.removeClass("askBtfSearchResultsActive");a.addClass("askBtfSearchResultsActive")})(a)}
function e(){a.declarative("ask-btfsearch-desktop-go-to-tab","click",function(a){d(".askBtfSearchResultsHeader").index(a.$target);c(a.data.index)})}var d=a.$;return{setup:function(){e()},switchToTab:c}});g.when("A","askUtils","askCsmCounter","askLogClickCsm","askLanguageFilterCsm","ready").register("askDesktopBtfSearchCsm",function(a,c,e,d,b){return{idempotentSetup:c.makeIdempotent(function(){var b=e.createRateLimitedCsmLogHandler("ask-btf-desktop-input-click");a.declarative("ask-btf-desktop-input-click",
"click touchstart",b);b=e.createRateLimitedCsmLogHandler("ask-btf-desktop-all-questions-page-button-click");a.declarative("ask-btf-desktop-all-questions-page-button-click","click",b);b=e.createRateLimitedCsmLogHandler("ask-btf-desktop-input-focusin");a.declarative("ask-btf-desktop-input-focusin","focusin",b);a.declarative("ask-btf-desktop-input-change","change",function(){e.logCounterMetric("ask-btf-desktop-input-change")});a.declarative("ask-btf-desktop-input-keyup","keyup",function(){e.logCounterMetric("ask-btf-desktop-input-keyup")});
a.declarative("ask-btf-search-link-click","click",function(){e.logCounterMetric("ask-btf-desktop-search-link-click");$(".ask-btf-search-link").addClass("aok-hidden");$(".ask-btf-search-box").removeClass("aok-hidden")})})}})});